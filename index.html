
<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>sori</title>
  <link rel="stylesheet" href="css/sori_style.css">
  <link rel="stylesheet" href="css/reset.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
  <script src="js/sori_one.js"></script>
</head>

<body>

  <div class="menu">
    <div class="icon">

    </div>

    <ul>
      <li>main</li>
      <li>skill</li>
      <li>profile</li>
      <li>project</li>
      <li>contact</li>
    </ul>
  </div>

    <div id="wrap">
      <div class="cursor"></div>

      <div class='quick'>
        <ul></ul>
      </div>

        <div class="full page1" pageNum="1">

          <script>
            const circle = document.querySelector(".cursor");

            document.addEventListener("mousemove", (e) => {

              const mouseX = e.clientX;
              const mouseY = e.clientY;

              circle.style.left = mouseX + 'px';
              circle.style.top = mouseY + 'px';
            });
          </script> 

          <div class="p1_wr">
            <ul>
              <li>LISTEN TO</li>
              <li>MY SOUND</li>
              <li>HELLO</li>
              <li>I'M SORI KIM *</li>
            </ul>
            <div class="p1_txt_mask">
              <ul class="p1_txt_mask_in">
                <li>LISTEN TO</li>
                <li>MY SOUND</li>
                <li>HELLO</li>
                <li>I'M SORI KIM *</li>
              </ul>
            </div>
            
          </div>

          <div class="p1_scroll">
            <img src="img/scroll_icon.svg" alt="scroll">
          </div>
        </div>
        <script>
          const container = document.querySelector(".p1_txt_mask");

          document.body.addEventListener("mousemove", e => {
            const x = e.clientX;
            const y = e.clientY - 450;
            gsap.to(container, {
              y: y
            });
            gsap.to(".p1_txt_mask_in", {
              y: -y
            });
          })
        </script>

        <div class="full page2" pageNum="2">

          <div class="p2_wr">

            <ul>
              <li>HTML <span style="color:#f1672c00;">/ 90%</span></li>
              <li>CSS <span style="color:#00a2ff00;">/ 90%</span></li>
              <li>JAVASCRIPT <span style="color:#ffca2b00">/ 50%</span></li>
              <li>JQUERY <span style="color:#78cff500">/ 60%</span></li>
              <li>PHOTOSHOP <span style="color:#192d4500">/ 100%</span></li>
              <li>ILLUSTRATOR <span style="color:#3f1e1900">/ 100%</span></li>
              <li style="font-size: 0.5em;">..and more</li>
            </ul>


          </div>

        </div>
  

        <div class="full page3" pageNum="3">
          page3
        </div>

        <div class="full page4" pageNum="4">
          <div class="slide_p4">
            <div class="p4_one">
              <div></div>
            </div>
          </div>
        </div>

        <div class="full page5" pageNum="5">
          page5
        </div>

        

    </div>


</body>

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

<script>
$(document).ready(function(){
	fullset();
	quickClick();
});

function fullset(){
	var pageindex = $("#wrap > .full").size(); 

	for(var i=1;i<=pageindex;i++){
		$("#wrap > .quick > ul").append("<li></li>");
	}
	$("#wrap > .quick > ul >li:first-child").addClass("on"); 

	//마우스 휠 이벤트
	$(window).bind("mousewheel", function(event){
		var page = $(".quick ul li.on");

		if($("body").find("#wrap:animated").length >= 1) return false;
	
		if(event.originalEvent.wheelDelta >= 0) {
			var before=page.index();
			if(page.index() >= 0) page.prev().addClass("on").siblings(".on").removeClass("on");
			var pagelength=0;
			for(var i=1; i<(before); i++)
			{
				pagelength += $(".page"+i).height();
			}
			if(page.index() > 0){ 
				page=page.index()-1;
				$("#wrap").animate({"top": -pagelength + "px"},1000, "swing");
			}

		}else{ // 마우스 휠을 아래로	
			var nextPage=parseInt(page.index()+1); 
			var lastPageNum=parseInt($(".quick ul li").size()); //마지막 페이지번호
			//현재페이지번호 <= (마지막 페이지 번호 - 1)
			//이럴때 퀵버튼옮기기
			if(page.index() <= $(".quick ul li").size()-1){ 
				page.next().addClass("on").siblings(".on").removeClass("on");
			}
			
			if(nextPage < lastPageNum){ //마지막 페이지가 아닐때만 animate !
				var pagelength=0;
				for(var i = 1; i<(nextPage+1); i++){ 
					//총 페이지 길이 구하기
					//ex) 현재 1번페이지에서 2번페이지로 내려갈때는 1번페이지 길이 + 2번페이지 길이가 더해짐
					pagelength += $(".page"+i).height();
				}
				$("#wrap").animate({"top": -pagelength + "px"},1000, "swing");
			}
			
		}
	});
	$(window).resize(function(){ 
		//페이지가 100%이기때문에 브라우저가 resize 될때마다 스크롤 위치가 그대로 남아있는것을 방지하기 위해
		var resizeindex = $(".quick ul li.on").index()+1;
		
		var pagelength=0;
		for(var i = 1; i<resizeindex; i++){ 
			//총 페이지 길이 구하기
			//ex) 현재 1번페이지에서 2번페이지로 내려갈때는 1번페이지 길이 + 2번페이지 길이가 더해짐
			pagelength += $(".page"+i).height();
		}

		$("#wrap").animate({"top": -pagelength + "px"},0);
	});
}
// 사이드 퀵버튼 클릭 이동
function quickClick(){
	$(".quick li").click(function(){
		var gnbindex = $(this).index()+1;
		var length=0;
		for(var i=1; i<(gnbindex); i++)
		{
			length+=$(".page"+i).height();
		}
		if($("body").find("#wrap:animated").length >= 1) return false;
		$(this).addClass("on").siblings("li").removeClass("on");
		
		$("#wrap").animate({"top": -length + "px"},800, "swing");
		return false;
	});
}

</script>
</html>
